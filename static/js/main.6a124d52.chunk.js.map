{"version":3,"sources":["utils/genID.js","reducers/SliceServiceList.js","components/ServiceEditor.js","components/ServiceListViewer.js","App.js","reportWebVitals.js","store/index.js","index.js"],"names":["module","exports","Date","now","Math","random","toString","substring","initialState","editItem","filter","list","name","price","id","genID","counterSlice","createSlice","reducers","put","state","action","payload","save","push","idx","findIndex","i","edit","find","remove","splice","reset","setFilter","actions","ServiceEditor","dispatch","useDispatch","store","useSelector","serviceList","useState","setName","setPrice","setId","formReset","useEffect","className","noValidate","autoComplete","onSubmit","event","preventDefault","onNewServiceSubmitHandler","TextField","value","onInput","e","target","label","variant","style","width","Button","color","type","onClick","ServiceListViewer","items","filteredList","item","toLowerCase","includes","startsWith","length","map","dataid","cursor","border","marginLeft","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","configureStore","reducer","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6a124d52.chunk.js","sourcesContent":["function genID() {\n  return `${Date.now()}${Math.random().toString(36).substring(2)}`;\n}\n\nmodule.exports = genID;\n","import { createSlice } from '@reduxjs/toolkit';\nimport genID from '../utils/genID';\n\nconst initialState = {\n  editItem: null,\n  filter: null,\n  list: [\n    {\n      name: 'Замена стекла',\n      price: '21 000',\n      id: `${genID()}`,\n    },\n    {\n      name: 'Замена дисплея',\n      price: '25 000',\n      id: `${genID()}`,\n    },\n    {\n      name: 'Замена аккумулятора',\n      price: '4 000',\n      id: `${genID()}`,\n    },\n    {\n      name: 'Замена микрофона',\n      price: '5 500',\n      id: `${genID()}`,\n    },\n  ],\n};\n\nconst counterSlice = createSlice({\n  name: 'serviceList',\n  initialState,\n  reducers: {\n    put(state, action) {\n      state = action.payload;\n    },\n    save(state, action) {\n      const { id, name, price } = action.payload;\n      if (!id && name && price) {\n        state.list.push({ ...action.payload, id: genID() });\n      } else if (name && price) {\n        const idx = state.list.findIndex((i) => i.id === id);\n        state.list[idx] = action.payload;\n      }\n      state.editItem = null;\n    },\n    edit(state, action) {\n      const { id } = action.payload;\n      state.editItem = state.list.find((i) => i.id === id);\n    },\n    remove(state, action) {\n      const { id } = action.payload;\n      const editId = state.editItem ? state.editItem.id : null;\n      if (editId === id) {\n        state.editItem = null;\n      }\n      const idx = state.list.findIndex((i) => i.id === id);\n      state.list.splice(idx, 1);\n    },\n    reset(state, action) {\n      state.editItem = null;\n    },\n    setFilter(state, action) {\n      state.filter = action.payload;\n    },\n  },\n});\n\nexport const { edit, save, remove, reset, setFilter } = counterSlice.actions;\nexport default counterSlice.reducer;\n","import React, { useState, useEffect } from 'react';\nimport { Button, TextField } from '@material-ui/core';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { save, reset, setFilter } from '../reducers/SliceServiceList';\n\nexport default function ServiceEditor() {\n  const dispatch = useDispatch();\n  const store = useSelector((store) => store.serviceList);\n  const [name, setName] = useState('');\n  const [price, setPrice] = useState('');\n  const [id, setId] = useState('');\n\n  const onNewServiceSubmitHandler = ({ event, payload }) => {\n    event.preventDefault();\n    dispatch(save(payload));\n    formReset();\n  };\n\n  const formReset = () => {\n    setName('');\n    setPrice('');\n    setId('');\n    dispatch(reset());\n  };\n\n  useEffect(() => {\n    const editItem = store.editItem;\n    if (editItem) {\n      setName(store.editItem.name);\n      setPrice(store.editItem.price);\n      setId(store.editItem.id);\n    } else {\n      setName('');\n      setPrice('');\n      setId('');\n    }\n  }, [store.editItem]);\n\n  useEffect(() => {\n    dispatch(setFilter({ name, price }));\n  }, [dispatch, name, price]);\n\n  return (\n    <div className='card'>\n      <form\n        className={'new-post-input'}\n        noValidate\n        autoComplete='off'\n        onSubmit={(event) => {\n          onNewServiceSubmitHandler({ event, payload: { id, name, price } });\n        }}\n      >\n        <div className='input-holder'>\n          <TextField\n            value={name}\n            onInput={(e) => setName(e.target.value)}\n            id='name'\n            label='Имя сервиса'\n            variant='outlined'\n            style={{ width: '50%' }}\n          />\n          <TextField\n            value={price}\n            onInput={(e) => setPrice(e.target.value)}\n            id='price'\n            label='Стоимость сервиса'\n            variant='outlined'\n            style={{ width: '50%' }}\n          />\n        </div>\n        <div className='btn-holder'>\n          <Button variant='contained' color='primary' type='submit'>\n            Save\n          </Button>\n          {(name || price) && (\n            <Button\n              variant='contained'\n              color='secondary'\n              onClick={() => formReset()}\n            >\n              Cancel\n            </Button>\n          )}\n        </div>\n      </form>\n    </div>\n  );\n}\n","import React from 'react';\nimport CloseIcon from '@material-ui/icons/Close';\nimport EditIcon from '@material-ui/icons/Edit';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { edit, remove } from '../reducers/SliceServiceList';\n\nexport default function ServiceListViewer() {\n  const dispatch = useDispatch();\n  const items = useSelector((store) => store.serviceList.list);\n  const filter = useSelector((store) => store.serviceList.filter);\n\n  let filteredList = items;\n\n  if (filter) {\n    filteredList = items\n      .filter((item) => {\n        return item.name.toLowerCase().includes(filter.name.toLowerCase());\n      })\n      .filter((item) => {\n        return item.price.startsWith(filter.price);\n      });\n  }\n\n  const onDeleteHandler = (id) => {\n    dispatch(remove({ id }));\n  };\n  const onEditHandler = (id) => {\n    dispatch(edit({ id }));\n  };\n\n  return (\n    <>\n      {filteredList.length > 0 && (\n        <ul className='card'>\n          {filteredList.map((item) => (\n            <li className='card_item' key={item.id} dataid={item.id}>\n              <span className='card_item-name'>{item.name}</span>\n              <span className='card_item-price'>{item.price}</span>\n              <EditIcon\n                style={{\n                  cursor: 'pointer',\n                  border: 'black 1px solid',\n                  marginLeft: '1vmin',\n                }}\n                onClick={() => onEditHandler(item.id)}\n              />\n              <CloseIcon\n                style={{\n                  cursor: 'pointer',\n                  border: 'black 1px solid',\n                  marginLeft: '1vmin',\n                }}\n                onClick={() => onDeleteHandler(item.id)}\n              />\n            </li>\n          ))}\n        </ul>\n      )}\n    </>\n  );\n}\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport ServiceEditor from './components/ServiceEditor';\nimport ServiceListViewer from './components/ServiceListViewer';\n\nexport default function App() {\n  const items = useSelector((store) => store.serviceList.list);\n\n  return (\n    <div className='wrapper>'>\n      <div className='container'>\n        <ServiceEditor />\n        {items.length > 0 && <ServiceListViewer />}\n      </div>\n    </div>\n  );\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { configureStore } from '@reduxjs/toolkit';\nimport serviceList from '../reducers/SliceServiceList';\n\nexport default configureStore({ reducer: { serviceList } });\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './App.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { Provider } from 'react-redux';\nimport store from './store/index';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}